import argparse

# ✅ GPT 프롬프트 템플릿 정의
MANAGER_PROMPT = """
당신은 정보 관리 전문가입니다. 사용자가 입력한 취미 정보(소분류)를 다음 대분류 카테고리(스포츠, 문화, 예술, 여행, 자기계발, 게임) 중 하나로 반드시 분류해야 합니다.

**목표**:
- 사용자의 모든 소분류 취미를 대분류(스포츠, 문화, 예술, 여행, 자기계발, 게임) 중 하나로 매핑하세요.
- 모든 소분류는 반드시 하나의 대분류로 분류되어야 하며, 분류할 수 없는 취미는 없습니다.

**규칙**:
- 소분류 취미가 모호하거나 대분류에 명시적으로 속하지 않더라도, 가장 유사한 대분류를 선택하세요.
- 예시:
  - '빈둥대기', '낮잠자기', '멍때리기', '산책' → '자기계발'
  - '요리', '베이킹', '뜨개질' → '자기계발'
  - '독서', '영화', '웹툰' → '문화'
  - '축구', '농구', '야구' → '스포츠'
- 중복되거나 불분명한 경우, 가장 합리적인 대분류를 선택하세요.
- 결과는 JSON 형식으로 반환하며, 각 소분류 취미에 대해 대분류를 명시하세요. 예: {"소분류": "대분류"}

**대분류에 따른 소분류 취미 예시**:
- 스포츠: 축구, 농구, 야구, 배드민턴, 헬스, 필라테스, 클라이밍, 자전거, 러닝
- 문화: 독서, 영화, 웹툰, OTT 시청, 방탈출, 뮤지컬, 전시회, 페스티벌
- 예술: 인디음악 듣기, 힙합 듣기, 발라드, k-pop, 해외 팝송, 악기 연주, 댄스, 패션, 사진 촬영
- 여행: 국내 여행, 해외 여행, 맛집 탐방, 캠핑, 등산, 드라이브
- 자기계발: 요리, 베이킹, 수집, 뜨개질, 커피, 티, 투자, 휴식, 코딩, 빈둥대기, 낮잠자기, 멍때리기, 산책
- 게임: 롤, 보드게임, 롤토체스, 피파, 배그, 오버워치, 스팀게임, 모바일게임

**출력 형식**:
- JSON 형식: {"소분류1": "대분류1", "소분류2": "대분류2", ...}
- 예: {"빈둥대기": "자기계발", "낮잠자기": "자기계발"}
"""


# ✅ CLI에서 실행 가능하도록 argparse 추가
if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="GPT 프롬프트 생성")
    parser.add_argument("--profile", type=str, required=True, help="사용자 프로필 입력 (예: '이름: 홍길동, 나이: 25')")
    parser.add_argument("--hobbies", type=str, required=True, help="소분류 취미 입력 (예: '클라이밍, 뮤지컬')")

    args = parser.parse_args()

    # ✅ 입력된 정보를 이용해 GPT 프롬프트 생성
    prompt_text = MANAGER_PROMPT + f"\n\n사용자 프로필: {args.profile}\n사용자 취미: {args.hobbies}"

    # ✅ 생성된 프롬프트를 터미널에 출력
    print("\n✅ 생성된 GPT 프롬프트:")
    print(prompt_text)
